$(document).ready((()=>{$.holdReady(!0),$("#button").click((t=>{getTime($("#cityName").val(),$("#forecastType").val()),t.preventDefault()}))}));const apiKey="7d780f1f4327bb82e2e03efc37e177e3";let time="",date="",newDate="",temperature="",output="",weatherDate="";function getTime(t,e){var n=`https://timezone.abstractapi.com/v1/current_time/?api_key=a55bf11d071c4c32b5dfd559020b2b0d&location=${t}`;axios.get(`${n}`).then((n=>{time=n.data.datetime.split(" ")[1].split(":")[0]+":"+n.data.datetime.split(" ")[1].split(":")[1],date=n.data.datetime.split(" ")[0],newDate=new Date(date),newDate=newDate.toString().split(" "),newDate=`${newDate[0]} - ${newDate[1]} ${newDate[2]}`,getCity(t,e)})).catch((t=>{console.log(t)}))}function getCity(t,e){let n=`https://api.openweathermap.org/data/2.5/forecast?q=${t}&units=metric&appid=${apiKey}`;var a=`https://api.openweathermap.org/data/2.5/weather?q=${t}&units=metric&appid=${apiKey}`;"current"===e?axios.get(`${a}`).then((t=>{renderCurrentWeather(t.data)})).catch((t=>{console.log(t)})):axios.get(`${n}`).then((t=>{renderFiveDayWeather(t.data)})).catch((t=>{console.log(t)}))}function renderCurrentWeather(t){stopCarousel(),$(".owl-navigation").addClass("display-none"),temperature=parseInt(t.main.temp);let e=`https://openweathermap.org/img/wn/${t.weather[0].icon}@4x.png`;output=`\n        <div class="jumbotron">\n            <div id="weather" class="row">\n                <div class="col-lg-6 col-md-6 col-sm-12 col-12 d-flex align-items-center justify-content-center">\n                    <div class="d-flex align-items-center">\n                        <img src="${e}" alt="sunny_s_cloudy" style="width: 100px;">\n                        <h1 id="temperatureValue">${temperature}</h1>\n                    </div>\n                    <div class="d-flex align-items-center position-relative pl-1" style="top:-10px">\n                        <span class="pr-2">°C</span>\n                    </div>\n                    <div class="pl-2">\n                        <span>Humidity: ${t.main.humidity}%</span><br>\n                        <span>Wind: ${t.wind.speed}km/h</span><br>\n                        <span>${capitalize(t.weather[0].description)}</span>\n                    </div>\n                </div>\n                <div class="col-lg-6 col-md-6 col-12 text-right">\n                    <h2>${t.name}</h2>\n                    <h5>${time}</h5>\n                    <span>${newDate}</span></br>\n                </div>\n            </div>\n        </div>\n    `,$("#weatherOutput").html(output)}let renderFiveCount=0;function renderFiveDayWeather(t){console.log("test"),output="",$("#weatherOutput").html(output),stopCarousel(),t.list.forEach((function(e){let n=`https://openweathermap.org/img/wn/${e.weather[0].icon}@4x.png`,a=(e.dt_txt.split(":")[0]+":"+e.dt_txt.split(":")[1]).split(" ")[1];weatherDate=(e.dt_txt.split(":")[0]+":"+e.dt_txt.split(":")[1]).split(" ")[0],output+=`\n        <div class="jumbotron item">\n            <div id="weather" class="row">\n                <div class="col-lg-6 col-md-6 col-sm-12 col-12 d-flex align-items-center">\n                    <div class="d-flex align-items-center">\n                        <img src="${n}" alt="sunny_s_cloudy" style="width: 100px;">\n                        <h1 class="pl-3" id="temperatureValue">${parseInt(e.main.temp)}</h1>\n                    </div>\n                    <div class="d-flex align-items-center position-relative pl-1" style="top:-10px">\n                        <span class="pr-2">°C</span>\n                    </div>\n                    <div class="pl-2">\n                        <span>Humidity: ${e.main.humidity}%</span><br>\n                        <span>Wind: ${e.wind.speed}km/h</span><br>\n                        <span>${capitalize(e.weather[0].description)}</span>\n                    </div>\n                </div>\n                <div class="col-lg-6 col-md-6 col-12 text-right">\n                    <h2>${t.city.name}</h2>\n                    <h5>${a}</h5>\n                    <span>${function(t){let e=(t=t.split(" ")[0]).split("-")[0],n=t.split("-")[1],a=t.split("-")[2],i=new Date(n+"/"+a+"/"+e);return i.toString().split(" ")[0]+" - "+i.toString().split(" ")[1]+" "+i.toString().split(" ")[2]}(weatherDate)}</span></br>\n                </div>\n            </div>\n        </div>\n        `,$("#weatherOutputCarousel").html(output)})),startCarousel(),$(".owl-navigation").removeClass("display-none"),$(".customNextBtn").click((function(){$(".owl-carousel").trigger("next.owl.carousel")})),$(".customPreviousBtn").click((function(){$(".owl-carousel").trigger("prev.owl.carousel",[300])})),renderFiveCount++}const capitalize=t=>"string"!=typeof t?"":t.charAt(0).toUpperCase()+t.slice(1);function stopCarousel(){var t=$(".owl-carousel");t.trigger("destroy.owl.carousel"),t.addClass("off")}function startCarousel(){$(".owl-carousel").owlCarousel({loop:!0,nav:!0,responsive:{0:{items:1}}}),$(".owl-navigation").removeClass("display-none")}
